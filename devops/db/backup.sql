--
-- PostgreSQL database dump
--

-- Dumped from database version 16rc1
-- Dumped by pg_dump version 16.1

-- Started on 2024-03-24 21:41:59

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4915 (class 1262 OID 57818)
-- Name: office_app_db; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE office_app_db WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc;


ALTER DATABASE office_app_db OWNER TO postgres;

\connect office_app_db

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 225 (class 1259 OID 57904)
-- Name: dislikes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.dislikes (
    user_id bigint,
    post_id bigint,
    id bigint NOT NULL
);


ALTER TABLE public.dislikes OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 57924)
-- Name: dislikes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.dislikes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.dislikes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 57874)
-- Name: idea_post; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.idea_post (
    id integer NOT NULL,
    title character varying,
    content text,
    user_id integer,
    attached_images text,
    likes_count integer,
    dislikes_count integer,
    comments_count integer,
    created_at timestamp without time zone NOT NULL,
    office_id integer
);


ALTER TABLE public.idea_post OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 57873)
-- Name: idea_post_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.idea_post ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.idea_post_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 57891)
-- Name: likes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.likes (
    user_id bigint,
    post_id bigint,
    id bigint NOT NULL
);


ALTER TABLE public.likes OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 57917)
-- Name: likes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.likes ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.likes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 57830)
-- Name: office; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.office (
    id integer NOT NULL,
    image_url character varying,
    address character varying
);


ALTER TABLE public.office OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 57829)
-- Name: office_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.office ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.office_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 57932)
-- Name: refresh_token; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.refresh_token (
    id bigint NOT NULL,
    user_id bigint,
    token character varying NOT NULL,
    expiry_date timestamp without time zone
);


ALTER TABLE public.refresh_token OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 57931)
-- Name: refresh_token_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.refresh_token ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.refresh_token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 57853)
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    id integer NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 57852)
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.roles ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.roles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 57838)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer NOT NULL,
    email character varying(100) NOT NULL,
    password character varying NOT NULL,
    name character varying(100) NOT NULL,
    surname character varying(100) NOT NULL,
    job character varying(100),
    photo character varying,
    office integer NOT NULL,
    created_at timestamp without time zone NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 57837)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 57858)
-- Name: users_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users_roles (
    user_id integer NOT NULL,
    role_id integer NOT NULL
);


ALTER TABLE public.users_roles OWNER TO postgres;

--
-- TOC entry 4905 (class 0 OID 57904)
-- Dependencies: 225
-- Data for Name: dislikes; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4903 (class 0 OID 57874)
-- Dependencies: 223
-- Data for Name: idea_post; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.idea_post VALUES (33, 'Мониторы #2', 'Необходимо заменить все мониторы! #2', 18, 'https://cdn.thewirecutter.com/wp-content/media/2023/06/4kmonitors-2048px-9794.jpg,https://i.pcmag.com/imagery/reviews/04yXpm5uyjix6ORSzFZVOrA-1..v1693014357.jpg', 0, 0, 0, '2024-03-23 15:12:16.272', 1);
INSERT INTO public.idea_post VALUES (34, 'Мониторы #3', 'Необходимо заменить все мониторы! #3', 18, 'https://cdn.thewirecutter.com/wp-content/media/2023/06/4kmonitors-2048px-9794.jpg,https://i.pcmag.com/imagery/reviews/04yXpm5uyjix6ORSzFZVOrA-1..v1693014357.jpg', 0, 0, 0, '2024-03-23 15:12:28.291', 4);
INSERT INTO public.idea_post VALUES (35, 'Мониторы #4', 'Необходимо заменить все мониторы! #4', 17, 'https://cdn.thewirecutter.com/wp-content/media/2023/06/4kmonitors-2048px-9794.jpg,https://i.pcmag.com/imagery/reviews/04yXpm5uyjix6ORSzFZVOrA-1..v1693014357.jpg', 0, 0, 0, '2024-03-23 15:13:09.091', 2);
INSERT INTO public.idea_post VALUES (36, 'Мониторы #5', 'Необходимо заменить все мониторы! #5', 17, 'https://cdn.thewirecutter.com/wp-content/media/2023/06/4kmonitors-2048px-9794.jpg,https://i.pcmag.com/imagery/reviews/04yXpm5uyjix6ORSzFZVOrA-1..v1693014357.jpg', 0, 0, 0, '2024-03-23 15:13:16.761', 2);
INSERT INTO public.idea_post VALUES (37, 'Мониторы #6', 'Необходимо заменить все мониторы! #6', 17, 'https://cdn.thewirecutter.com/wp-content/media/2023/06/4kmonitors-2048px-9794.jpg,https://i.pcmag.com/imagery/reviews/04yXpm5uyjix6ORSzFZVOrA-1..v1693014357.jpg', 0, 0, 0, '2024-03-23 15:13:29.173', 5);


--
-- TOC entry 4904 (class 0 OID 57891)
-- Dependencies: 224
-- Data for Name: likes; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4896 (class 0 OID 57830)
-- Dependencies: 216
-- Data for Name: office; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.office VALUES (1, 'https://arearent.ru/upload/resize_cache/iblock/7e7/1250_600_1/ed79s3ywxiqn6myw26f70ndbkw23hc85.jpg', 'ул. Гагарина 6');
INSERT INTO public.office VALUES (2, 'https://cdn.inmyroom.ru/uploads/photo/file/a8/a8e4/base_a8e4096a-9249-4fbe-870d-b08d03a78f24.jpg', 'ул.Коминтерна, д.164');
INSERT INTO public.office VALUES (3, 'https://interiorizm.com/wp-content/uploads/2021/02/rabochee-mesto-s-vidom-na-more-interiorizm-05.jpg', 'ул.Большая Печерская, 5/9');
INSERT INTO public.office VALUES (4, 'https://cdn.inmyroom.ru/uploads/photo/file/d5/d5c9/photos_show_big_d5c9a014-519c-4f3d-bd44-bfb7a8d0e52a.jpg', 'ул.Ковалихинская, д.8');
INSERT INTO public.office VALUES (5, 'https://archello.s3.eu-central-1.amazonaws.com/images/2018/02/03/DFBridgesIISHOT07G20-0.1517653034.5896.jpg', 'ул.Горького, д.146');


--
-- TOC entry 4909 (class 0 OID 57932)
-- Dependencies: 229
-- Data for Name: refresh_token; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.refresh_token VALUES (63, 19, '433cc34b-9f5a-4917-91f4-0969dd47bdfc', '2024-03-24 20:40:48.974');
INSERT INTO public.refresh_token VALUES (67, 17, '0aa7e256-2448-4a15-b7cc-0710e00437af', '2024-03-25 13:00:58.318');
INSERT INTO public.refresh_token VALUES (68, 20, '84a47ac8-cce5-40c9-95e6-60c5b96d8bc6', '2024-03-25 13:50:02.137');
INSERT INTO public.refresh_token VALUES (69, 21, '414e72b3-75ce-46cd-a7ea-7631b8b91e3b', '2024-03-25 21:39:54.965');
INSERT INTO public.refresh_token VALUES (60, 18, '2c650b21-cb1d-4bea-a159-f4429fa5585e', '2024-03-24 15:06:30.48');


--
-- TOC entry 4900 (class 0 OID 57853)
-- Dependencies: 220
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.roles VALUES (1, 'ROLE_USER');
INSERT INTO public.roles VALUES (2, 'ROLE_ADMIN');


--
-- TOC entry 4898 (class 0 OID 57838)
-- Dependencies: 218
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users VALUES (17, 'alex@yandex.ru', '$2a$10$O/viSB6hLSgeP4EigHHJzu2oYfu1lYIfDbpn6slCNCM3HQIpBS/02', 'person_first', 'person_first', 'Software Engineer #1', 'https://previews.123rf.com/images/verpeya/verpeya1902/verpeya190202090/129973840-user-icon.jpg', 1, '2024-03-23 15:05:49.815');
INSERT INTO public.users VALUES (19, 'qwerty@yandex.ru', '$2a$10$3W7C2KmqVr/0ZvjW3Zgc1Ozs/PCWCXaxFlPT6VhHTKVrbfI9jiYsi', 'Дмитрий', 'Комарницкий', 'Сотрудник Tinkoff', 'https://previews.123rf.com/images/verpeya/verpeya1902/verpeya190202090/129973840-user-icon.jpg', 1, '2024-03-23 20:40:48.404');
INSERT INTO public.users VALUES (20, 'qwerty123456@yandex.ru', '$2a$10$XIQ1Yxrh0oK1H7dfAKLhOOwxM10FWevQ91oQXI3SVGHtaSS1q0Tvy', 'Дмитрий', 'Комарницкий', 'Сотрудник Tinkoff', 'https://previews.123rf.com/images/verpeya/verpeya1902/verpeya190202090/129973840-user-icon.jpg', 1, '2024-03-24 13:50:01.581');
INSERT INTO public.users VALUES (18, 'misha@yandex.ru', '$2a$10$zRQoNFPBZPD/DTjWH0Qx7.u0/jyn.jyPpR6y0KVvdLRNFImVhfkyq', 'misha', 'volzhanin', 'Сотрудник Tinkoff', 'https://previews.123rf.com/images/verpeya/verpeya1902/verpeya190202090/129973840-user-icon.jpg', 1, '2024-03-23 15:06:16.65');
INSERT INTO public.users VALUES (21, 'qwerty1234567@yandex.ru', '$2a$10$Lf42VW7ysy9xKhOaqB6IDOund0xmfro0MK0mb3VI.29CfW7W9/5su', 'Дмитрий', 'Комарницкий', 'Сотрудник Tinkoff', 'https://previews.123rf.com/images/verpeya/verpeya1902/verpeya190202090/129973840-user-icon.jpg', 1, '2024-03-24 21:39:54.386');


--
-- TOC entry 4901 (class 0 OID 57858)
-- Dependencies: 221
-- Data for Name: users_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users_roles VALUES (17, 1);
INSERT INTO public.users_roles VALUES (18, 1);
INSERT INTO public.users_roles VALUES (19, 1);
INSERT INTO public.users_roles VALUES (20, 1);
INSERT INTO public.users_roles VALUES (21, 1);


--
-- TOC entry 4916 (class 0 OID 0)
-- Dependencies: 227
-- Name: dislikes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.dislikes_id_seq', 42, true);


--
-- TOC entry 4917 (class 0 OID 0)
-- Dependencies: 222
-- Name: idea_post_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.idea_post_id_seq', 37, true);


--
-- TOC entry 4918 (class 0 OID 0)
-- Dependencies: 226
-- Name: likes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.likes_id_seq', 52, true);


--
-- TOC entry 4919 (class 0 OID 0)
-- Dependencies: 215
-- Name: office_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.office_id_seq', 5, true);


--
-- TOC entry 4920 (class 0 OID 0)
-- Dependencies: 228
-- Name: refresh_token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.refresh_token_id_seq', 69, true);


--
-- TOC entry 4921 (class 0 OID 0)
-- Dependencies: 219
-- Name: roles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_id_seq', 3, true);


--
-- TOC entry 4922 (class 0 OID 0)
-- Dependencies: 217
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 21, true);


--
-- TOC entry 4737 (class 2606 OID 57926)
-- Name: dislikes dislikes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.dislikes
    ADD CONSTRAINT dislikes_pkey PRIMARY KEY (id);


--
-- TOC entry 4733 (class 2606 OID 57880)
-- Name: idea_post idea_post_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.idea_post
    ADD CONSTRAINT idea_post_pkey PRIMARY KEY (id);


--
-- TOC entry 4735 (class 2606 OID 57919)
-- Name: likes likes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.likes
    ADD CONSTRAINT likes_pkey PRIMARY KEY (id);


--
-- TOC entry 4723 (class 2606 OID 57836)
-- Name: office office_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.office
    ADD CONSTRAINT office_pkey PRIMARY KEY (id);


--
-- TOC entry 4739 (class 2606 OID 57938)
-- Name: refresh_token refresh_token_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.refresh_token
    ADD CONSTRAINT refresh_token_pkey PRIMARY KEY (id);


--
-- TOC entry 4741 (class 2606 OID 57940)
-- Name: refresh_token refresh_token_token_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.refresh_token
    ADD CONSTRAINT refresh_token_token_key UNIQUE (token);


--
-- TOC entry 4729 (class 2606 OID 57857)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- TOC entry 4725 (class 2606 OID 57846)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 4727 (class 2606 OID 57844)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 4731 (class 2606 OID 57862)
-- Name: users_roles users_roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT users_roles_pkey PRIMARY KEY (user_id, role_id);


--
-- TOC entry 4749 (class 2606 OID 57912)
-- Name: dislikes dislikes_post_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.dislikes
    ADD CONSTRAINT dislikes_post_id_fkey FOREIGN KEY (post_id) REFERENCES public.idea_post(id);


--
-- TOC entry 4750 (class 2606 OID 57907)
-- Name: dislikes dislikes_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.dislikes
    ADD CONSTRAINT dislikes_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4745 (class 2606 OID 57886)
-- Name: idea_post idea_post_office_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.idea_post
    ADD CONSTRAINT idea_post_office_id_fkey FOREIGN KEY (office_id) REFERENCES public.office(id);


--
-- TOC entry 4746 (class 2606 OID 57881)
-- Name: idea_post idea_post_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.idea_post
    ADD CONSTRAINT idea_post_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4747 (class 2606 OID 57899)
-- Name: likes likes_post_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.likes
    ADD CONSTRAINT likes_post_id_fkey FOREIGN KEY (post_id) REFERENCES public.idea_post(id);


--
-- TOC entry 4748 (class 2606 OID 57894)
-- Name: likes likes_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.likes
    ADD CONSTRAINT likes_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4751 (class 2606 OID 57941)
-- Name: refresh_token refresh_token_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.refresh_token
    ADD CONSTRAINT refresh_token_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 4742 (class 2606 OID 57847)
-- Name: users users_office_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_office_fkey FOREIGN KEY (office) REFERENCES public.office(id);


--
-- TOC entry 4743 (class 2606 OID 57868)
-- Name: users_roles users_roles_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT users_roles_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(id);


--
-- TOC entry 4744 (class 2606 OID 57863)
-- Name: users_roles users_roles_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users_roles
    ADD CONSTRAINT users_roles_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


-- Completed on 2024-03-24 21:42:00

--
-- PostgreSQL database dump complete
--

